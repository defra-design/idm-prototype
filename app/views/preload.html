{% extends "layout.html" %}
{% set showBackLink = false %}

{% set pageHeading = "Preload user data" %}
{% set pageSection = "" %}
{% block pageTitle %}{{ macroPageTitle.pageTitle(pageHeading) }}{% endblock %}
{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

        {{ macroPageHeader.pageHeader(pageHeading, pageSection) }}

        <p class="govuk-!-padding-bottom-3">Preload the prototype with user data.</p>

        {% if data['flow'] == "Registration" %}

            <form class="form" action="/mfa-V2/gov-gateway/login" method="post" class="">

            {{ govukCheckboxes({
                fieldset: { legend: { text: "User has Government Gateway account", isPageHeading: false, classes: "govuk-visually-hidden" } },
                items: [ { value: "Yes", text: "User has Government Gateway account" } ]
            } | decorateFormAttributes('GovernmentGatewayAccount')) }}


            {{ govukRadios({
                classes: "govuk-radios--inline",
                    fieldset: {
                        legend: { text: "User has Government Gateway account", isPageHeading: false, classes: "govuk-fieldset__legend--m"  }
                    },
                    items: [
                        { value: "Yes", text: "Yes" },
                        { value: "No, redirect(/tasked/gov-gateway/login)", text: "No" }
                    ]
                } | decorateFormAttributes('siteEntry')) }}

        {% else %}







        <form class="form" action="/schools/manage-your-training" method="post" class="">


            <h2 class="govuk-heading-m">Induction programme</h2>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-one-half">

                    {% set partnerHtml %}
                        <!-- Partnership -->
                        {{ govukCheckboxes({
                            fieldset: { legend: { text: "Partnership created", isPageHeading: false, classes: "govuk-visually-hidden" } },
                            items: [ { value: "Yes", text: "In partnership with Provider" } ]
                        } | decorateFormAttributes('providerPartnership')) }}

                        <!-- Not eligible for funding -->
                        {{ govukCheckboxes({
                            fieldset: { legend: { text: "Not eligigle for DfE funding(FIP)", isPageHeading: false, classes: "govuk-visually-hidden" } },
                            items: [ { value: "No", text: "Not eligible for DfE funding" } ]
                        } | decorateFormAttributes('eligible-funding')) }}
                    {% endset -%}

                    {% set materialsHtml %}
                        <!-- Materials chosen -->
                        {{ govukCheckboxes({
                            fieldset: { legend: { text: "Accredited materials chosen(CIP only)", isPageHeading: false, classes: "govuk-visually-hidden" } },
                            items: [ { value: "Ambition Institute", text: "Materials chosen" } ]
                        } | decorateFormAttributes('accredited-materials')) }}
                    {% endset -%}

                    {{ govukRadios({
                        fieldset: {
                            legend: { text: "Induction programme", isPageHeading: false, classes: "govuk-visually-hidden" }
                        },
                        items: [
                            { value: "FIP", text: "FIP - training provider, funded by the DfE", conditional: { html: partnerHtml } },
                            { value: "CIP", text: "CIP - Deliver using DfE accredited materials", conditional: { html: materialsHtml } },
                            { value: "DYO", text: "DYO - Design and deliver own based ECF" },
                            { value: "temphold", text: "Use a training provider funded by your school" },
                            { value: "noECTs", text: "Not expecting to have any early career teachers" }
                        ]
                      } | decorateFormAttributes('inductionProgramme')) }}
                </div>
                <div class="govuk-grid-column-one-half">
                    {{ govukCheckboxes({
                        fieldset: { legend: { text: "Within 2 week period", isPageHeading: false, classes: "govuk-visually-hidden" } },
                        items: [ { value: "Yes", text: "Within 2 week period where a school can challenge the partnership" } ]
                    } | decorateFormAttributes('partnershipChallengeWindow')) }}
                </div>
            </div>
            <hr class="govuk-section-break govuk-section-break--l govuk-section-break--visible">



            <h2 class="govuk-heading-m">Entry page</h2>
            <p>If no selection will default to general manage training page.</p>

                {{ govukRadios({
                    fieldset: {
                        legend: { text: "Entry page for journey", isPageHeading: false, classes: "govuk-visually-hidden" }
                    },
                    items: [
                        { value: "choose-induction, redirect(/schools/inductionProgramme/)", text: "Choose induction programme" },
                        { value: "manage-training-email, redirect(/emails/link-to-sign-in)", text: "Manage training for cohort from sign in email" },
                        { value: "manage-training-mat, redirect(/schools/)", text: "Manage training as MAT" },
                        { value: "validation, redirect(/participants/validate/)", text: "Validate a participant" }
                    ]
                } | decorateFormAttributes('siteEntry')) }}




        {% endif %}

        {{ govukButton({
                    text: "Add preloaded information and continue"
                }) }}



        </form>

    </div>
</div>
{% endblock %}




