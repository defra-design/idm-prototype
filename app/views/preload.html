{% extends "layout.html" %}
{% set showBackLink = false %}
{% set serviceName = "Preload - Defra identity management" %}

{% set pageHeading = "Preload prototype with data" %}

{% if data['serviceName'] == "vetsVisit" %}  
    {% set pageSection = "Annual health and welfare review of livestock" %}
{% else %}
    {% set pageSection = "" %}
{% endif %}

{% block pageTitle %}{{ macroPageTitle.pageTitle(pageHeading) }}{% endblock %}
{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">

        {{ macroPageHeader.pageHeader(pageHeading, pageSection) }}

        <!-- Registration journey flow -->
        {% if data['flow'] == "Registration" %}
            
            <form class="form" action="/gov-gateway/login" method="post" class="">
            
                <!-- <form class="form" action="/archived/mfa/gov-gateway/login" method="post" class=""> -->
            

            {{ govukCheckboxes({
                fieldset: { legend: { text: "User has Government Gateway account", isPageHeading: false, classes: "govuk-visually-hidden" } },
                items: [ { value: "Yes", text: "User has Government Gateway account" } ]
            } | decorateFormAttributes('GovernmentGatewayAccount')) }}

            {{ govukRadios({
                classes: "govuk-radios--inline",
                fieldset: {
                    legend: { text: "User has Government Gateway account", isPageHeading: false, classes: "govuk-fieldset__legend--m"  }
                },
                items: [
                    { value: "Yes", text: "Yes" },
                    { value: "No, redirect(/tasked/gov-gateway/login)", text: "No" }
                ]
            } | decorateFormAttributes('siteEntry')) }}

        <!-- Authentication journey flow -->
        {% elif data['flow'] == "Authentication" %}

            
            {% if data['serviceName'] == "vetsVisit" %}      
                <form class="form" action="/authentication/vets/start" method="post" >
            {% elif data['flowVersion'] == "current" %}
                <form class="form" action="/sign-in" method="post" >
            {% else %}
                <form class="form" action="/archived/mfa/gov-gateway/login-v2" method="post" class="">
            {% endif %}
            
            {% if data['serviceName'] != "vetsVisit" %}      
                    
                <h3 class="govuk-heading-m">Authentication options</h3>

                <div class="govuk-grid-row">
                    <div class="govuk-grid-column-one-half">
                
                        <div class="mspace">
                        {{ govukCheckboxes({
                            idPrefix: "mfaEmailDisabled",
                            classes: "govuk-checkboxes--small",
                            name: "mfaEmailDisabled",
                            items: [
                                { value: "Yes", text: "MFA via email disabled", checked: checked("mfaEmailDisabled", "Yes")}
                            ]
                        }) }}
                        </div>
                        <div class="mspace">
                        {{ govukCheckboxes({
                            idPrefix: "mfaSmsDisabled",
                            classes: "govuk-checkboxes--small",
                            name: "mfaSmsDisabled",
                            items: [
                                { value: "Yes", text: "MFA via SMS disabled", checked: checked("mfaSmsDisabled", "Yes")}
                            ]
                        }) }}
                        </div>
                        {{ govukCheckboxes({
                            idPrefix: "mfaDisabled",
                            classes: "govuk-checkboxes--small",
                            name: "mfaDisabled",
                            items: [
                                { value: "Yes", text: "MFA via Email and SMS disabled", checked: checked("mfaDisabled", "Yes")}
                            ]
                        }) }}
                    </div>
                    <div class="govuk-grid-column-one-half">

                        <div class="mspace">
                            {{ govukCheckboxes({
                                idPrefix: "multiplePhoneNumber",
                                classes: "govuk-checkboxes--small",
                                name: "multiplePhoneNumber",
                                items: [
                                    { value: "Yes", text: "Multiple phone numbers on account", checked: checked("multiplePhoneNumber", "Yes")}
                                ]
                            }) }}
                            </div>
    
                            {{ govukCheckboxes({
                                idPrefix: "securityWordChanged",
                                classes: "govuk-checkboxes--small",
                                name: "securityWordChanged",
                                items: [
                                    { value: "Yes", text: "Security word has changed", checked: checked("securityWordChanged", "Yes")}
                                ]
                            }) }}

                        </div>
                    </div>
                
                

            {% endif %}

            {% if data['serviceName'] == "vetsVisit" %}   

                {{ govukRadios({
                    classes: "govuk-radios--inline",
                    fieldset: {
                        legend: { text: "Businesses registered to rural payments account", isPageHeading: false, classes: "govuk-fieldset__legend--m"  }
                    },
                    items: [
                        { value: "Single", text: "Single", checked: checked("companySize", "Single") },
                        { value: "20", text: "Up to 20", checked: checked("companySize", "20") },
                        { value: "45", text: "More than 20", checked: checked("companySize", "45") }
                    ]
                } | decorateFormAttributes('companySize')) }}

            {% else %}

                {{ govukRadios({
                    classes: "govuk-radios--inline",
                    fieldset: {
                        legend: { text: "Organisations registered to account that you can represent", isPageHeading: false, classes: "govuk-fieldset__legend--m"  }
                    },
                    items: [
                        { value: "Single", text: "Single" },
                        { value: "20", text: "Up to 20" },
                        { value: "45", text: "More than 20" }
                    ]
                } | decorateFormAttributes('companySize')) }}

            {% endif %}
            

            {% if data['serviceName'] != "vetsVisit" %}      
            <h3 class="govuk-heading-m">Interswitch flow options</h3>
            <div class="govuk-grid-row">
                <div class="govuk-grid-column-two-thirds">
                    <p>User journey options to show the different scenarios that can happen within interswitch pages.</p>            
                </div>
            </div>
            <div class="govuk-grid-row">                
                <div class="govuk-grid-column-one-half">
                    
                    <div class="mspace">
                    {{ govukCheckboxes({
                        idPrefix: "interSwitchSize",
                        classes: "govuk-checkboxes--small",
                        name: "interSwitchSize",
                        items: [
                            { value: "Single", text: "Only 1 organisation available for enrolment", checked: checked("interSwitchSize", "Single")}
                        ]
                    }) }}
                    </div>

                    {{ govukCheckboxes({
                        idPrefix: "citizenEnrol",
                        classes: "govuk-checkboxes--small",
                        name: "citizenEnrol",
                        items: [
                            { value: "Yes", text: "Shows citizen only option for enrolment", checked: checked("citizenEnrol", "Yes")}
                        ]
                    }) }}

                </div>
            </div>
            {% endif %}

            {% if data['serviceName'] == "vetsVisit" %}      
            <h3 class="govuk-heading-m">Flow overrides</h3>
            <div class="govuk-grid-row">
                
                  
                    
                    <div class="govuk-grid-column-full">

                        {{ govukCheckboxes({
                            idPrefix: "noBusinessRegistered",
                            classes: "govuk-checkboxes--small",
                            name: "noBusinessRegistered",                            
                            items: [
                                { value: "Yes", text: "No businesses registered to rural payments account", checked: checked("noBusinessRegistered", "Yes")}
                            ]
                        }) }}

                  
                    
                </div>
            </div>
            {% endif %}

        {% endif %}

            {{ govukButton({
                text: "Add preloaded information and continue"
            }) }}

        </form>

    </div>
</div>
{% endblock %}
