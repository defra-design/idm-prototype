{% extends "layout.html" %}
{% set showBackLink = false %}
{% set serviceName = "" %}

{% if data['status'] == "review" %}
    {% set pageHeading = "Which number should we send the code to?" %}
{% else %}
    {% set pageHeading = "Verify your identity" %}
{% endif %}
{% set pageSection = "" %}
{% block pageTitle %}{{ macroPageTitle.pageTitle(pageHeading) }}{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        {{ macroPageHeader.pageHeader(pageHeading,pageSection) }}

        {% if data['status'] == "review" %}

        {% else %}
            <p class="govuk-body">Choose a contact number, to send the 6 digit verification code to.</p>
            <p class="govuk-body">It may take a few minutes to arrive.</p>
        {% endif %}

        {% if data['status'] == "review" %}

        <form action="/authentication/get-code" method="post">

            {{ govukRadios({
              idPrefix: "whichPhoneNumber",
              name: "whichPhoneNumber",
              fieldset: {
                  legend: {
                      text: "Which contact number should we send the verification code to",
                      isPageHeading: false,
                      classes: "govuk-visually-hidden"
                  }
              },
              items: [
                  { value: "whichPhoneNumber", text: "+XXXXXXXXX123" },
                  { value: "whichPhoneNumber", text: "+XXXXXXXXX456" },
                  { value: "whichPhoneNumber", text: "+XXXXXXXXX789" }
              ]
          }) }}

        {% else %}

        <form action="/authentication/get-code" method="post">

          {{ govukRadios({
            idPrefix: "whichPhoneNumber",
            name: "whichPhoneNumber",
            fieldset: {
                legend: {
                    text: "Choose a phone numner to verify your identity",
                    isPageHeading: false,
                    classes: "govuk-visually-hidden"
                }
            },

            items: [
                { value: "whichPhoneNumber, redirect(/authentication/verify)", text: "+XXXXXXXXX123" },
                { value: "whichPhoneNumber", text: "+XXXXXXXXX456" }
            ]
        }) }}

        {% endif %}


        <input type="hidden" id="status" name="status" value="" />
        
      {{ govukButton({
        text: "Continue"
      }) }}
    </form>


    <details class="govuk-details" data-module="govuk-details">
      <summary class="govuk-details__summary">
        <span class="govuk-details__summary-text">
            {% if data['status'] == "review" %}
            Get help with this page
            {% else %}
            Help with this page
            {% endif %}
        </span>
      </summary>
      <div class="govuk-details__text">

        Rural Payments Agency <br>
        Telephone: 03000 200 301 <br>
        Monday to Friday, 8:30am to 5pm (except public holidays) <br>
        <a href="mailto:ruralpayments@defra.gov.uk?subject=feedback">ruralpayments@defra.gov.uk</a>
        <br><br>
        <p class="govuk-body">Find out about <a href="https://www.gov.uk/call-charges" class="govuk-link" rel="noreferrer noopener" target=”_blank”>call charges (opens in new tab)</p>
      </div>
    </details>

  </div>
  <div class="govuk-grid-column-one-third review">      
    <ul class="govuk-list govuk-body-s govuk-!-text-align-right">        
      <!-- <li><a href="/errors" class="govuk-link govuk-link--no-visited-state">Error page</a></li>         -->
      {% if data['status'] == "review" %}
      <li><a href="/authentication/verify-multiple-numbers?status=" class="govuk-link govuk-link--no-visited-state">Current page</a></li>        
      {% else %}
      <li><a href="/authentication/verify-multiple-numbers?status=review" class="govuk-link govuk-link--no-visited-state">Suggested page changes</a></li>        
      {% endif %}
    </ul>      
  </div>
</div>

{% endblock %}
