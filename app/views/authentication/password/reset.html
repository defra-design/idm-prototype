{% extends "/layouts/main.html" %}
{% set showBackLink = true %}
{% if data['serviceFlow'] == "vetsVisit" %}
{% set serviceName = "Get funding to improve animal health and welfare" %}
{% endif %}


{% set pageHeading = "Reset your password" %}
{% set pageSection = "" %}
{% block pageTitle %}{{ macroPageTitle.pageTitle(pageHeading) }}{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">


		{% if data['status'] == "error-messages" %}

            {{ govukErrorSummary({
                titleText: "There is a problem",
                errorList: [
                    { text: "Enter your 10-digit customer reference number (CRN)", href: "#" },
                    { text: "Enter your email address", href: "#" }                    
                ]
            }) }}

        {% elif data['status'] == "error-messages-2" %}

            {{ govukErrorSummary({
                titleText: "There is a problem",
                errorList: [
                    { text: "Check you have entered your 10-digit customer reference number (CRN) correctly", href: "#" }                                       
                ]
            }) }}

        {% elif data['status'] == "error-messages-3" %}

            {{ govukErrorSummary({
                titleText: "There is a problem",
                errorList: [
                    { text: "Enter a valid 10-digit customer reference number (CRN) and email address", href: "#" }                                       
                ]
            }) }}

        {% endif %}



    	{{ macroPageHeader.pageHeader(pageHeading,pageSection) }}

        <!-- <p class="govuk-body">Enter the customer reference number (CRN) and email address associated with your Rural Payments Agency (RPA) account.</p> -->        

        <form action="enter-code" method="post">    


			{% if data['status'] == "error-messages" %}

			{{ govukInput({
				label: {
					text: "Customer reference number (CRN)",                        
					isPageHeading: false
				},
				hint: {
					text: "This is the 10-digit number emailed to you when you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				errorMessage: {
					text: "Enter your 10-digit customer reference number (CRN)"
				},
				id: "crnNumberReset",
				name: "crnNumberReset"
			}) }}

			{{ govukInput({
				label: {
					text: "Email address",                      
					isPageHeading: false
				},
				hint: {
					text: "This is the email you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				errorMessage: {
					text: "Enter your email address"
				},
				id: "crnEmailReset",
				name: "crnEmailReset"				
			}) }}
		
		{% elif data['status'] == "error-messages-2" %}

			{{ govukInput({
				label: {
					text: "Customer reference number (CRN)",                        
					isPageHeading: false
				},
				hint: {
					text: "This is the 10-digit number emailed to you when you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				errorMessage: {
					text: "Check you have entered your 10-digit customer reference number (CRN) correctly"
				},
				id: "crnNumberReset",
				name: "crnNumberReset"
			}) }}

			{{ govukInput({
				label: {
					text: "Email address",                      
					isPageHeading: false
				},
				hint: {
					text: "This is the email you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				id: "crnEmailReset",
				name: "crnEmailReset"				
			}) }}

		{% elif data['status'] == "error-messages-3" %}
		
			<div class="govuk-form-group govuk-form-group--error">

			{{ govukInput({
				label: {
					text: "Customer reference number (CRN)",                        
					isPageHeading: false
				},
				hint: {
					text: "This is the 10-digit number emailed to you when you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				errorMessage: {
					text: "Enter a valid 10-digit customer reference number (CRN) and email address"
				},
				id: "crnNumberReset",
				name: "crnNumberReset"
			}) }}
			

			{{ govukInput({
				label: {
					text: "Email address",                      
					isPageHeading: false
				},
				hint: {
					text: "This is the email you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				errorMessage: {
					text: ""
				},
				id: "crnEmailReset",
				name: "crnEmailReset"				
			}) }}
		</div>

		{% else %}

			{{ govukInput({
				label: {
					text: "Customer reference number (CRN)",                        
					isPageHeading: false
				},
				hint: {
					text: "This is the 10-digit number emailed to you when you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				id: "crnNumberReset",
				name: "crnNumberReset"
			}) }}

			{{ govukInput({
				label: {
					text: "Email address",                      
					isPageHeading: false
				},
				hint: {
					text: "This is the email you registered with the Rural Payments service." 
				},
				classes: "govuk-!-width-two-thirds",
				id: "crnEmailReset",
				name: "crnEmailReset"				
			}) }}                                            			

		{% endif %}
  
    		<div class="govuk-inset-text">
  				<p class="govuk-body">We will send a verification code to this email address, which will allow you to reset your password.</p>
			</div>    

			{{ govukButton({
				text: "Send verification code"                    
			}) }}
    			
		</form>
     
    </div>
	<div class="govuk-grid-column-one-third review">      
        <ul class="govuk-list govuk-body-s govuk-!-text-align-right">             
            <li><a href="/authentication/password/reset?status=" class="govuk-link govuk-link--no-visited-state">No error</a></li>                    
            <li><a href="/authentication/password/reset?status=error-messages" class="govuk-link govuk-link--no-visited-state">Error message 1</a></li>        
            <li><a href="/authentication/password/reset?status=error-messages-2" class="govuk-link govuk-link--no-visited-state">Error message 2</a></li>        
            <li><a href="/authentication/password/reset?status=error-messages-3" class="govuk-link govuk-link--no-visited-state">Error message 3</a></li>                                
        </ul>      
    </div>
  </div>

{% endblock %}
