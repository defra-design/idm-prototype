{% extends "layout.html" %}
{% set showBackLink = true %}
{% set serviceName = "" %}

{% if data['status'] == "review" %}
	{% set pageHeading = "What is your company registration number?" %}
{% else %}
	{% set pageHeading = "What is the Companies House number for the company you wish to register?" %}
{% endif %}
{% set pageSection = "" %}
{% block pageTitle %}{{ macroPageTitle.pageTitle(pageHeading) }}{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

		{% if data['status'] == "review" %}


			{% if data['errorMessage'] == "errorOne" %}
				
			{{ govukErrorSummary({
				titleText: "There is a problem",
				errorList: [ { text: "Enter your company registration number", href: "#" }	]
			}) }}

			{% elif data['errorMessage'] == "errorTwo" %}

			{{ govukErrorSummary({
				titleText: "There is a problem",
				errorList: [ { text: "Enter your company registration number in the correct format", href: "#" }	]
			}) }}			
			
			{% endif %}
			
				{{ macroPageHeader.pageHeader(pageHeading,pageSection) }}   



		{% else %}
		<h1 class="govuk-heading-l">{{pageHeading}}</h1>
		{% endif %}

		{% if data['status'] == "review" %}

			<p>You can <a class="govuk-link" href="https://find-and-update.company-information.service.gov.uk/" target="_blank">search Companies House for your company registration number (opens in new tab)</a>.</p>

			<form method="post" action="/register/companies-house-confirm">


				{% if data['errorMessage'] == "errorOne" %}

					{{ govukInput({
						label: {
							text: "Companies house number",
							classes: "govuk-visually-hidden"
						},
						hint: {
							text: "It is 8 characters. For example, 01234567 or AC012345."
						},
						errorMessage: {
							text: "Enter your company registration number"
						},
						classes: "govuk-input--width-10",
						name: "registrationCompanyNumber"
					}) }}


				{% elif data['errorMessage'] == "errorTwo" %}

					{{ govukInput({
						label: {
							text: "Companies house number",
							classes: "govuk-visually-hidden"
						},
						hint: {
							text: "It is 8 characters. For example, 01234567 or AC012345."
						},
						errorMessage: {
							text: "Enter your company registration number in the correct format"
						},
						classes: "govuk-input--width-10",
						name: "registrationCompanyNumber"
					}) }}


				{% else %}

					{{ govukInput({
						label: {
							text: "Companies house number",
							classes: "govuk-visually-hidden"
						},
						hint: {
							text: "It is 8 characters. For example, 01234567 or AC012345."
						},
						classes: "govuk-input--width-10",
						name: "registrationCompanyNumber"
					}) }}

				{% endif %}

		{% else %}

			<form method="post" action="/register/companies-house-confirm">

				{{ govukInput({
					label: {
						text: "Companies house number",
						classes: "govuk-visually-hidden"
					},				
					classes: "govuk-input--width-10",
					name: "registrationCompanyNumber"
				}) }}
			
				{{ govukDetails({
					summaryText: "Where can I find the number?",
					html: ' <p class="govuk-body">You can find this on the <a href="https://www.gov.uk/get-information-about-a-company" target="_blank" rel="noopener noreferrer" class="govuk-link">Companies House register (opens in a new tab).</a></p>
					<p>If you are applying on behalf of a company that is not registered in the UK, you need to change your account type to: <span class="govuk-body govuk-!-font-weight-bold">Organisation that is not registered in the UK.</span></p>'
				}) }}

				<!-- {{ govukDetails({
					summaryText: "My company isn't found",
					html: ' <p class="govuk-body">If you have only just registered your organisation it may take a few days for the information to be available to us through Companies House. You can go to Companies House and check to see when your organisation is available. <a href="https://www.gov.uk/get-information-about-a-company" target="_blank" rel="noopener noreferrer" class="govuk-link">Companies House register (opens in a new tab).</a></p>'
				}) }} -->

		{% endif %}

      		{{ govukButton({
        		text: "Continue"
      		}) }}

    	</form>

  	</div>
	<div class="govuk-grid-column-one-third review">      
        <ul class="govuk-list govuk-body-s govuk-!-text-align-right">                
            {% if data['status'] == "review" %}
                <li><a href="/register/companies-house-number?status=" class="govuk-link govuk-link--no-visited-state">Current page</a></li>        
				<li><a href="/register/companies-house-number?errorMessage=errorOne" class="govuk-link govuk-link--no-visited-state">Error message 1</a></li>        
				<li><a href="/register/companies-house-number?errorMessage=errorTwo" class="govuk-link govuk-link--no-visited-state">Error message 2</a></li>        				 
				<li><a href="/register/companies-house-number?errorMessage=" class="govuk-link govuk-link--no-visited-state">Remove errors</a></li>        				 
            {% else %}
                <li><a href="/register/companies-house-number?status=review" class="govuk-link govuk-link--no-visited-state">Suggested page changes</a></li>        
            {% endif %}
				
        </ul>          
    </div>
</div>

{% endblock %}
